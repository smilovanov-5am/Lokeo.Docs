= Комментарии менеджера и менеджера
:page-toclevels: 4

== Общая модель комментария менеджера
Добавлена в эндпойнты получения карточки пропуска и списка пропусков

.JSON
[%collapsible]
====
[source,json]
----
{
    "id": "f81815e2-7a9a-4136-bd75-3d44512e80b3",
    "text" : "Комментарий менеджера",
    "creationDate" : "2024-04-17T16:03:20.714Z",
    "author": {
        "firstName" : "Иван",
        "middleName" : "Иванович",
        "lastName" : "Иванов",
    }
}
----
====


== Общая модель комментария диспетчера
Добавлена в эндпойнты получения карточки события и списка событий

.JSON
[%collapsible]
====
[source,json]
----
{
    "id": "f81815e2-7a9a-4136-bd75-3d44512e80b4",
    "text" : "Комментарий диспетчера",
    "creationDate" : "2024-07-20T13:01:21.512Z",
    "author": {
        "firstName" : "Сидор",
        "middleName" : "Сидорович",
        "lastName" : "Сидоров",
    }
}
----
====


== Создание/изменение комментария диспетчера
* POST web/passes/{id}/comment

=== Параметры запроса
* **id** - id пропуска

=== Запрос
.JSON
[%collapsible]
====
[source,json]
----
{
  "text": "Новый комментарий",
}
----
====

=== Ответ
.JSON
[%collapsible]
====
[source,json]
----
{
  "result": {
    "entityId": "08dc4fda-a16c-4c4f-8558-70906c5ceef6",
    "isSuccess": true,
    "errorCode": null,
    "errorDescription": null,
    "commandState": "Updated"
  }
}

----
====

== Создание комментария диспетчера
Происходит через стандартный эндпойнт создания события
* POST web/passageEvents

== Изменение комментария диспетчера
Происходит через стандартный эндпойнт изменения события
* POST web/passageEvents/edit


